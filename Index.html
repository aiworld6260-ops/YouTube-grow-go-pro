<meta name="google-site-verification" content="IBIxq7l1jTl5OYSP1t3NebJUiZ9_neYoZncfr7xwWxE" />
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    theme: {
      extend: {
        colors: {
          'yt-red': '#FF0000',
          'yt-dark': '#0f0f0f',
          'yt-light': '#ffffff',
          'yt-grey': '#272727',
          'yt-med-grey': '#333333',
        },
        fontFamily: {
          sans: ['Inter', 'sans-serif'],
        },
      }
    }
  }
</script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap');
  
  body {
    background-color: #0f0f0f;
    color: #ffffff;
    font-family: 'Inter', sans-serif;
    min-height: 100vh;
  }
  
  .tab-button.active {
    border-bottom: 3px solid #FF0000;
    color: #FF0000;
    font-weight: 700;
    background-color: #1a1a1a;
  }
  
  .loader {
    border: 4px solid #f3f3f3;
    border-top: 4px solid #FF0000;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    animation: spin 1s linear infinite;
    margin: 0 auto;
    display: none;
  }
  
  .loading .loader {
    display: block;
  }
  .loading .submit-text {
    display: none;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Custom input styling */
  input[type="text"], textarea, select {
    background-color: #1a1a1a !important;
    border: 1px solid #333333 !important;
    color: #ffffff !important;
    border-radius: 8px !important;
    padding: 10px !important;
  }
  
  /* Styling for the User ID box */
  .user-id-box {
    background-color: #272727;
    border: 1px dashed #FF0000;
    padding: 8px 12px;
    border-radius: 8px;
    font-size: 0.8rem;
    color: #FFDDDD;
  }
</style>

<div class="min-h-screen flex flex-col">
  <header class="bg-yt-dark sticky top-0 z-50 shadow-lg border-b border-yt-red/50">
    <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <svg class="youtube-logo w-6 h-6 fill-yt-red" viewBox="0 0 24 24">
          <path d="M12 0C5.37 0 0 5.37 0 12s5.37 12 12 12 12-5.37 12-12S18.63 0 12 0zm5.79 16.5c-.21.74-.82 1.35-1.56 1.56C14.88 18.5 12 18.5 12 18.5s-2.88 0-4.23-.44c-.74-.21-1.35-.82-1.56-1.56C6 15.12 6 12 6 12s0-3.12.44-4.23c.21-.74.82-1.35 1.56-1.56C9.12 6 12 6 12 6s2.88 0 4.23.44c.74.21 1.35.82 1.56 1.56C18 8.88 18 12 18 12s0 3.12-.44 4.23zM10 14.5v-5l4 2.5z"/>
        </svg>
        <span class="text-xl font-extrabold text-yt-light tracking-tight">YouTube Vistar Salahkar</span>
      </div>
      <div class="flex items-center space-x-4">
         <select id="language-select" class="bg-yt-dark text-yt-light rounded-md p-2 border border-yt-grey text-sm focus:ring-yt-red focus:border-yt-red">
            <option value="Hindi">ЁЯМР рд╣рд┐рдВрджреА</option>
            <option value="English">ЁЯЗмЁЯЗз English</option>
            <option value="Spanish">ЁЯЗкЁЯЗ╕ Espa├▒ol</option>
            <option value="French">ЁЯЗлЁЯЗ╖ Fran├зais</option>
            <option value="Japanese">ЁЯЗпЁЯЗ╡ цЧецЬмшкЮ</option>
         </select>
        <div class="user-id-box">
          User ID: <span id="user-id">Loading...</span>
        </div>
      </div>
    </div>
  </header>

  <main class="flex-grow max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-6">
    <div class="flex border-b border-yt-grey overflow-x-auto whitespace-nowrap mb-6">
      <button class="tab-button px-4 py-3 text-center text-sm font-medium transition duration-300 active" data-tab="video-seo">ЁЯОм рд╡реАрдбрд┐рдпреЛ SEO</button>
      <button class="tab-button px-4 py-3 text-center text-sm font-medium transition duration-300" data-tab="channel-audit">ЁЯУИ рдЪреИрдирд▓ рд╕рдореАрдХреНрд╖рд╛</button>
      <button class="tab-button px-4 py-3 text-center text-sm font-medium transition duration-300" data-tab="trending-ideas">ЁЯФе рдЯреНрд░реЗрдВрдбрд┐рдВрдЧ рд╡рд┐рдЪрд╛рд░</button>
      <button class="tab-button px-4 py-3 text-center text-sm font-medium transition duration-300" data-tab="script-story">тЬНя╕П рд╕реНрдХреНрд░рд┐рдкреНрдЯ / рд╕реНрдЯреЛрд░реА</button>
      <button class="tab-button px-4 py-3 text-center text-sm font-medium transition duration-300" data-tab="thumbnail-maker">ЁЯЦ╝я╕П рдердВрдмрдиреЗрд▓ рдореЗрдХрд░</button>
    </div>
    
    <div class="w-full mb-6 mt-4">
        <div class="bg-yt-med-grey p-3 rounded-xl border border-yt-grey text-center shadow-lg">
            <p class="text-xs font-semibold text-gray-400 mb-2 uppercase tracking-wider">Advertisement / рдкреНрд░рд╛рдпреЛрдЬрдХ</p>
            
            <div id="top-banner-ad" class="w-full bg-yt-dark py-4 rounded-lg flex items-center justify-center min-h-[90px]">
                <p class="text-gray-500 font-medium text-sm">
                    [ Google AdSense Code Ya Custom Image Banner Yahan Aayega ]
                </p>
            </div>
            </div>
    </div>
    <div id="tab-content">
      <div id="video-seo" class="tab-pane active space-y-6">
        <h2 class="text-2xl font-bold text-yt-red">ЁЯОм рд╡реАрдбрд┐рдпреЛ SEO</h2>
        <input type="text" id="seo-topic" placeholder="рдЖрдкрдХреЗ рд╡реАрдбрд┐рдпреЛ рдХрд╛ рдореБрдЦреНрдп рд╡рд┐рд╖рдп рдХреНрдпрд╛ рд╣реИ? (рдЬреИрд╕реЗ: рдмреНрд▓реЙрдЧреНрдЧрд┐рдВрдЧ рд╕реЗ рдкреИрд╕реЗ рдХреИрд╕реЗ рдХрдорд╛рдПрдВ)" class="w-full">
        <button onclick="handleVideoOptimization('video-seo-output', 'seo-topic')" 
                class="w-full bg-yt-red text-yt-light font-bold py-3 rounded-xl shadow-lg hover:bg-red-700 transition duration-300 flex items-center justify-center relative">
          <span class="submit-text">SEO рд╕рд╛рдордЧреНрд░реА рдЬрдирд░реЗрдЯ рдХрд░реЗрдВ</span>
          <div class="loader" id="seo-loader"></div>
        </button>
        <div id="video-seo-output" class="bg-yt-med-grey p-4 rounded-xl shadow-inner border border-yt-grey min-h-[150px] text-sm whitespace-pre-wrap">
          <p class="text-gray-400">рдпрд╣рд╛рдВ рд╢реАрд░реНрд╖рдХ, рд╡рд┐рд╡рд░рдг, рдЯреИрдЧ рдФрд░ рд╡рд╛рдпрд░рд▓ рд╡реАрдбрд┐рдпреЛ рд▓рд┐рдВрдХ рджрд┐рдЦрд╛рдИ рджреЗрдВрдЧреЗред</p>
        </div>
      </div>

      <div id="channel-audit" class="tab-pane hidden space-y-6">
        <h2 class="text-2xl font-bold text-yt-red">ЁЯУИ рдЪреИрдирд▓ рд╕рдореАрдХреНрд╖рд╛ (Audit)</h2>
        <input type="text" id="audit-link" placeholder="рдЕрдкрдиреЗ YouTube рдЪреИрдирд▓ рдпрд╛ рд╡реАрдбрд┐рдпреЛ рдХрд╛ рд▓рд┐рдВрдХ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ (рдЙрджрд╛: https://youtube.com/@TechChannel)" class="w-full">
        <button onclick="handleChannelAudit('audit-output', 'audit-link')"
                class="w-full bg-yt-red text-yt-light font-bold py-3 rounded-xl shadow-lg hover:bg-red-700 transition duration-300 flex items-center justify-center relative">
          <span class="submit-text">AI рд╕реЗ рдЪреИрдирд▓ рдСрдбрд┐рдЯ рдХрд░рд╛рдПрдБ</span>
          <div class="loader" id="audit-loader"></div>
        </button>
        <div id="audit-output" class="bg-yt-med-grey p-4 rounded-xl shadow-inner border border-yt-grey min-h-[150px] text-sm whitespace-pre-wrap">
          <p class="text-gray-400">рдпрд╣рд╛рдВ AI-рдЖрдзрд╛рд░рд┐рдд рд╕рдореАрдХреНрд╖рд╛, рд╕реБрдзрд╛рд░ рдХреЗ рд╕реБрдЭрд╛рд╡, рдФрд░ 'рдХреНрдпрд╛ рдХрдореА рд╣реИ' рдХрд╛ рд╡рд┐рд╡рд░рдг рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ред</p>
        </div>
      </div>
      
      <div id="trending-ideas" class="tab-pane hidden space-y-6">
        <h2 class="text-2xl font-bold text-yt-red">ЁЯФе рдЯреНрд░реЗрдВрдбрд┐рдВрдЧ рд╡рд┐рдЪрд╛рд░</h2>
        <input type="text" id="trend-niche" placeholder="рдЕрдкрдиреЗ рдЪреИрдирд▓ рдХреА рд╢реНрд░реЗрдгреА рдпрд╛ Niche рдбрд╛рд▓реЗрдВ (рдЙрджрд╛: рдЯреЗрдХреНрдиреЛрд▓реЙрдЬреА, рдХреБрдХрд┐рдВрдЧ, рдлрд╛рдЗрдиреЗрдВрд╕)" class="w-full">
        <button onclick="handleTrendGeneration('trend-output', 'trend-niche')"
                class="w-full bg-yt-red text-yt-light font-bold py-3 rounded-xl shadow-lg hover:bg-red-700 transition duration-300 flex items-center justify-center relative">
          <span class="submit-text">5 рдЯреНрд░реЗрдВрдбрд┐рдВрдЧ рд╡рд┐рдЪрд╛рд░ рдЦреЛрдЬреЗрдВ</span>
          <div class="loader" id="trend-loader"></div>
        </button>
        <div id="trend-output" class="bg-yt-med-grey p-4 rounded-xl shadow-inner border border-yt-grey min-h-[150px] text-sm whitespace-pre-wrap">
          <p class="text-gray-400">рдпрд╣рд╛рдВ рдЖрдкрдХреЗ Niche рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╡рд╛рдпрд░рд▓ рд╡реАрдбрд┐рдпреЛ рд╡рд┐рдЪрд╛рд░ рджрд┐рдЦрд╛рдИ рджреЗрдВрдЧреЗред</p>
        </div>
      </div>

      <div id="script-story" class="tab-pane hidden space-y-6">
        <h2 class="text-2xl font-bold text-yt-red">тЬНя╕П рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рд╕реНрдЯреЛрд░реА</h2>
        <input type="text" id="script-topic" placeholder="рдЖрдкрдХреЗ рд╡реАрдбрд┐рдпреЛ рдХрд╛ рд╡рд┐рд╖рдп (рдЙрджрд╛: рдЗрддрд┐рд╣рд╛рд╕ рдХрд╛ рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рд░рд╣рд╕реНрдп)" class="w-full">
        <select id="script-style" class="w-full bg-yt-dark text-yt-light rounded-md p-3 border border-yt-grey focus:ring-yt-red focus:border-yt-red">
          <option value="Informative and Educational">рдЬрд╛рдирдХрд╛рд░реАрдкреВрд░реНрдг рдФрд░ рд╢реИрдХреНрд╖рд┐рдХ</option>
          <option value="Review and Critical Analysis">рд╕рдореАрдХреНрд╖рд╛ рдФрд░ рдЧрд╣рди рд╡рд┐рд╢реНрд▓реЗрд╖рдг</option>
          <option value="Storytelling and Historical">рдХрд╣рд╛рдиреА рд╕реБрдирд╛рдирд╛ рдФрд░ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ</option>
          <option value="Step-by-step Tutorial">рд╕реНрдЯреЗрдк-рдмрд╛рдп-рд╕реНрдЯреЗрдк рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓</option>
        </select>
        <button onclick="handleScriptGeneration('script-output', 'script-topic', 'script-style')"
                class="w-full bg-yt-red text-yt-light font-bold py-3 rounded-xl shadow-lg hover:bg-red-700 transition duration-300 flex items-center justify-center relative">
          <span class="submit-text">рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рд╕реНрдЯреЛрд░реА рдЬрдирд░реЗрдЯ рдХрд░реЗрдВ</span>
          <div class="loader" id="script-loader"></div>
        </button>
        <div id="script-output" class="bg-yt-med-grey p-4 rounded-xl shadow-inner border border-yt-grey min-h-[150px] text-sm whitespace-pre-wrap">
          <p class="text-gray-400">рдпрд╣рд╛рдВ рд╡рд┐рд╕реНрддреГрдд рд╡реАрдбрд┐рдпреЛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рдЖрдХрд░реНрд╖рдХ рдХрд╣рд╛рдиреА рдХреЗ рд╡рд┐рдЪрд╛рд░ рджрд┐рдЦрд╛рдИ рджреЗрдВрдЧреЗред</p>
        </div>
      </div>

      <div id="thumbnail-maker" class="tab-pane hidden space-y-6">
        <h2 class="text-2xl font-bold text-yt-red">ЁЯЦ╝я╕П рдердВрдмрдиреЗрд▓ рдореЗрдХрд░</h2>
        <textarea id="thumbnail-prompt" rows="3" placeholder="рдердВрдмрдиреЗрд▓ рдХрд╛ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг рджреЗрдВ (рдЙрджрд╛: рдПрдХ рд╣реИрд░рд╛рди рдЖрджрдореА тВ╣1 рд▓рд╛рдЦ рдХреЗ рдиреЛрдЯ рдкрдХрдбрд╝реЗ рд╣реБрдП, рдЯреЗрдХреНрд╕реНрдЯ 'HOW I EARNED IT' рдмрдбрд╝реЗ рдЕрдХреНрд╖рд░реЛрдВ рдореЗрдВ)" class="w-full"></textarea>
        <button onclick="handleThumbnailGeneration('thumbnail-output', 'thumbnail-prompt')"
                class="w-full bg-yt-red text-yt-light font-bold py-3 rounded-xl shadow-lg hover:bg-red-700 transition duration-300 flex items-center justify-center relative">
          <span class="submit-text">рдердВрдмрдиреЗрд▓ рдЬрдирд░реЗрдЯ рдХрд░реЗрдВ</span>
          <div class="loader" id="thumbnail-loader"></div>
        </button>
        <div id="thumbnail-output" class="bg-yt-med-grey p-4 rounded-xl shadow-inner border border-yt-grey min-h-[250px] flex items-center justify-center">
          <p class="text-gray-400">рдпрд╣рд╛рдВ рдЖрдкрдХрд╛ AI-рдЬрдирд░реЗрдЯреЗрдб рдердВрдмрдиреЗрд▓ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ред</p>
        </div>
      </div>
    </div>
  </main>

  <footer class="bg-yt-dark py-4 text-center text-gray-500 text-sm border-t border-yt-grey">
    <p>Powered by Gemini AI and Imagen 3.0. Designed for YouTube Creators.</p>
  </footer>
</div>

<script>
  // --- Global Setup and Utility Functions ---
  const GEMINI_MODEL = "gemini-2.5-flash-preview-05-20";
  const IMAGEN_MODEL = "imagen-3.0-generate-002";
  
  // ****** YAHAN AAPKI GEMINI API KEY PASTE KI GAYI HAI ******
  // Note: Your key should be exactly inside the quotes, without extra spaces or quotes.
  const apiKey = "AIzaSyDdvSRrEzB8YbQ8F_8PyYKmPUfPA_GQ_xU"; 
  // ****************************************************

  let userId = 'USER-' + (crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).substring(2, 9));

  function setUserIdDisplay() {
      document.getElementById('user-id').textContent = userId;
  }
  
  // XHR Utility for making AI calls (used for better stability)
  function callAPI(url, payload, isImage = false) {
    return new Promise((resolve, reject) => {
      // API Key Check
      if (apiKey === "YOUR_GEMINI_API_KEY_HERE" || !apiKey) {
           return reject(new Error('API Key Missing: рдХреГрдкрдпрд╛ рдХреЛрдб рдореЗрдВ рдЕрдкрдиреА API Key рдбрд╛рд▓реЗрдВред'));
      }
      
      const xhr = new XMLHttpRequest();
      xhr.open('POST', url, true);
      xhr.setRequestHeader('Content-Type', 'application/json');

      xhr.onload = function() {
        if (xhr.status === 200) {
          try {
            const result = JSON.parse(xhr.responseText);
            resolve(result);
          } catch (e) {
            console.error("API Response Parsing Error:", e);
            reject(new Error('API Response Parsing Error.'));
          }
        } else {
          console.error(`API Call Failed with status: ${xhr.status}, response: ${xhr.responseText}`);
          // Provide more helpful error for unauthorized/quota issues
          if (xhr.status === 400 || xhr.status === 403) {
             reject(new Error(`API рддреНрд░реБрдЯрд┐ (HTTP ${xhr.status}): рдЖрдкрдХреА API Key рдЧрд▓рдд рд╣реЛ рд╕рдХрддреА рд╣реИ рдпрд╛ рдЖрдкрдХрд╛ рдХреЛрдЯрд╛ рдЦрддреНрдо рд╣реЛ рдЧрдпрд╛ рд╣реИред`));
          } else {
             reject(new Error(`рд╕рд░реНрд╡рд░ рддреНрд░реБрдЯрд┐: HTTP ${xhr.status}`));
          }
        }
      };

      xhr.onerror = function() {
        console.error("Network Error during API Call.");
        reject(new Error('рдиреЗрдЯрд╡рд░реНрдХ рддреНрд░реБрдЯрд┐: рд╕рд░реНрд╡рд░ рддрдХ рдирд╣реАрдВ рдкрд╣реБрдБрдЪрд╛ рдЬрд╛ рд╕рдХрд╛ред'));
      };
      
      xhr.timeout = 60000; // 60 seconds timeout
      xhr.send(JSON.stringify(payload));
    });
  }

  // Helper to update UI (Error or Success)
  function updateOutput(outputId, content, type = 'text') {
    const outputDiv = document.getElementById(outputId);
    if (!outputDiv) return;

    if (type === 'error') {
      outputDiv.innerHTML = `
        <div class="text-red-500 font-bold mb-2 flex items-center space-x-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.3 16c-.77 1.333.192 3 1.732 3z"/></svg>
          <span>рддреНрд░реБрдЯрд┐ (Error)</span>
        </div>
        <p class="text-gray-300">${content}</p>
        <p class="text-yellow-400 mt-2">рд╕рдорд╕реНрдпрд╛ рдЬрд╛рд░реА рд░рд╣рдиреЗ рдкрд░ рдЕрдкрдиреА API Key рдЬрд╛рдВрдЪреЗрдВред</p>
      `;
    } else if (type === 'image') {
        outputDiv.innerHTML = `<img src="${content}" alt="Generated Thumbnail" class="max-w-full h-auto rounded-lg shadow-xl border-4 border-yt-red/50">`;
    } else {
      outputDiv.textContent = content;
    }
  }
  
  // Helper to toggle loading state
  function toggleLoading(loaderId, button, isLoading) {
      const loader = document.getElementById(loaderId);
      const submitText = button.querySelector('.submit-text');
      if (isLoading) {
          button.classList.add('loading');
          loader.style.display = 'block';
          submitText.style.display = 'none';
          button.disabled = true;
      } else {
          button.classList.remove('loading');
          loader.style.display = 'none';
          submitText.style.display = 'block';
          button.disabled = false;
      }
  }


  // --- Tab Switching Logic ---
  document.querySelectorAll('.tab-button').forEach(button => {
    button.addEventListener('click', () => {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active', 'text-yt-red', 'font-bold'));
      document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.add('hidden'));

      button.classList.add('active', 'text-yt-red', 'font-bold');
      document.getElementById(button.dataset.tab).classList.remove('hidden');
    });
  });

  // --- Core API Functions ---

  async function callGemini(systemPrompt, userQuery) {
    const selectedLanguage = document.getElementById('language-select').value;

    const payload = {
        contents: [{ parts: [{ text: userQuery }] }],
        tools: [{ "google_search": {} }],
        systemInstruction: {
            parts: [{ text: `${systemPrompt}ред рдЖрдкрдХрд╛ рдЖрдЙрдЯрдкреБрдЯ рдкреВрд░реА рддрд░рд╣ рд╕реЗ ${selectedLanguage} рднрд╛рд╖рд╛ рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред` }]
        },
    };

    const url = `https://generativelanguage.googleapis.com/v1beta/models/${GEMINI_MODEL}:generateContent?key=${apiKey}`;

    const result = await callAPI(url, payload);
    return result?.candidates?.[0]?.content?.parts?.[0]?.text || "AI рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рд╣реБрдЖред";
  }

  async function callImagen(prompt) {
    const payload = {
        instances: [{ prompt: prompt }],
        parameters: { "sampleCount": 1 }
    };
    
    const url = `https://generativelanguage.googleapis.com/v1beta/models/${IMAGEN_MODEL}:predict?key=${apiKey}`;

    const result = await callAPI(url, payload);
    return result?.predictions?.[0]?.bytesBase64Encoded;
  }
  

  // --- Feature Handlers ---

  async function handleVideoOptimization(outputId, topicId) {
      const topic = document.getElementById(topicId).value.trim();
      const loaderId = 'seo-loader';
      const button = document.querySelector(`#video-seo button`);

      if (!topic) return updateOutput(outputId, 'рдХреГрдкрдпрд╛ рд╡реАрдбрд┐рдпреЛ рдХрд╛ рд╡рд┐рд╖рдп рджрд░реНрдЬ рдХрд░реЗрдВред', 'error');

      try {
          toggleLoading(loaderId, button, true);
          updateOutput(outputId, 'AI рджреНрд╡рд╛рд░рд╛ SEO рд╕рд╛рдордЧреНрд░реА рдЬрдирд░реЗрдЯ рдХреА рдЬрд╛ рд░рд╣реА рд╣реИ... рдХреГрдкрдпрд╛ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВред');
          
          const systemPrompt = "рдЖрдк рдПрдХ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ YouTube SEO рд╕рд▓рд╛рд╣рдХрд╛рд░ рд╣реИрдВред рджрд┐рдП рдЧрдП рд╡рд┐рд╖рдп рдХреЗ рд▓рд┐рдП, 1. рджреЛ рд╢реАрд░реНрд╖рдХ (рдПрдХ SEO-рдЕрдиреБрдХреВрд▓, рдПрдХ рдХреНрд▓рд┐рдХ-рдЖрдХрд░реНрд╖рдХ), 2. рдПрдХ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг (рдЬрд┐рд╕рдореЗрдВ рд╣реИрд╢рдЯреИрдЧ, CTA, рдФрд░ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХрд╛ Placeholder рд╣реЛ), рдФрд░ 3. 10 рд╕рдмрд╕реЗ рдкреНрд░рднрд╛рд╡реА рдЯреИрдЧ рдкреНрд░рджрд╛рди рдХрд░реЗрдВред рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдлреЙрд░реНрдореЗрдЯ рдХрд░реЗрдВред";
          const userQuery = `рд╡рд┐рд╖рдп: ${topic}`;

          const rawText = await callGemini(systemPrompt, userQuery);
          
          updateOutput(outputId, rawText, 'text');

      } catch (e) {
          updateOutput(outputId, `SEO рдЬрдирд░реЗрд╢рди рд╡рд┐рдлрд▓: ${e.message}`, 'error');
      } finally {
          toggleLoading(loaderId, button, false);
      }
  }

  async function handleChannelAudit(outputId, linkId) {
      const link = document.getElementById(linkId).value.trim();
      const loaderId = 'audit-loader';
      const button = document.querySelector(`#channel-audit button`);

      if (!link) return updateOutput(outputId, 'рдХреГрдкрдпрд╛ рдЪреИрдирд▓ рдпрд╛ рд╡реАрдбрд┐рдпреЛ рдХрд╛ рд▓рд┐рдВрдХ рджрд░реНрдЬ рдХрд░реЗрдВред', 'error');

      try {
          toggleLoading(loaderId, button, true);
          updateOutput(outputId, 'AI рджреНрд╡рд╛рд░рд╛ рдЪреИрдирд▓ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ... рдХреГрдкрдпрд╛ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВред');

          const systemPrompt = "рдЖрдк рдПрдХ YouTube рдЧреНрд░реЛрде рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд╣реИрдВред рджрд┐рдП рдЧрдП рдЪреИрдирд▓/рд╡реАрдбрд┐рдпреЛ рд▓рд┐рдВрдХ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ (рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░)ред 1. рдореБрдЦреНрдп рдХрдорд┐рдпрд╛рдБ (What is Missing), 2. рдЧреНрд░реЛрде рдХреЗ рд▓рд┐рдП 5 рдареЛрд╕ рдХрджрдо (What to Do) рдкреНрд░рджрд╛рди рдХрд░реЗрдВред";
          const userQuery = `рдЪреИрдирд▓/рд╡реАрдбрд┐рдпреЛ рд▓рд┐рдВрдХ: ${link}`;

          const rawText = await callGemini(systemPrompt, userQuery);
          
          updateOutput(outputId, rawText, 'text');

      } catch (e) {
          updateOutput(outputId, `рдСрдбрд┐рдЯ рдЬрдирд░реЗрд╢рди рд╡рд┐рдлрд▓: ${e.message}`, 'error');
      } finally {
          toggleLoading(loaderId, button, false);
      }
  }

  async function handleTrendGeneration(outputId, nicheId) {
      const niche = document.getElementById(nicheId).value.trim();
      const loaderId = 'trend-loader';
      const button = document.querySelector(`#trending-ideas button`);

      if (!niche) return updateOutput(outputId, 'рдХреГрдкрдпрд╛ рдЕрдкрдиреЗ рдЪреИрдирд▓ рдХреА Niche (рд╢реНрд░реЗрдгреА) рджрд░реНрдЬ рдХрд░реЗрдВред', 'error');

      try {
          toggleLoading(loaderId, button, true);
          updateOutput(outputId, 'AI рджреНрд╡рд╛рд░рд╛ рдЯреНрд░реЗрдВрдбрд┐рдВрдЧ рд╡рд┐рдЪрд╛рд░реЛрдВ рдХреА рдЦреЛрдЬ рдХреА рдЬрд╛ рд░рд╣реА рд╣реИ... рдХреГрдкрдпрд╛ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВред');

          const systemPrompt = "рдЖрдк рдПрдХ рдорд╛рд░реНрдХреЗрдЯ рд░рд┐рд╕рд░реНрдЪ рдПрдХреНрд╕рдкрд░реНрдЯ рд╣реИрдВред рджрд┐рдП рдЧрдП Niche рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд, Google Search Grounding рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ 5 рд╕рдмрд╕реЗ рд╡рд░реНрддрдорд╛рди (Trending) рдФрд░ рдХреНрд▓рд┐рдХ-рдпреЛрдЧреНрдп рд╡реАрдбрд┐рдпреЛ рдЯреЙрдкрд┐рдХ рдХреЗ рдЖрдЗрдбрд┐рдпрд╛ рджреЗрдВред рд╣рд░ рдЯреЙрдкрд┐рдХ рдХреЛ рд╕реНрдкрд╖реНрдЯ рд╢реАрд░реНрд╖рдХ рдФрд░ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╡рд┐рд╡рд░рдг рдХреЗ рд╕рд╛рде рдкреНрд░рджрд╛рди рдХрд░реЗрдВред";
          const userQuery = `Niche: ${niche}`;

          const rawText = await callGemini(systemPrompt, userQuery);
          
          updateOutput(outputId, rawText, 'text');

      } catch (e) {
          updateOutput(outputId, `рдЯреНрд░реЗрдВрдб рдЬрдирд░реЗрд╢рди рд╡рд┐рдлрд▓: ${e.message}`, 'error');
      } finally {
          toggleLoading(loaderId, button, false);
      }
  }
  
  async function handleScriptGeneration(outputId, topicId, styleId) {
      const topic = document.getElementById(topicId).value.trim();
      const style = document.getElementById(styleId).value;
      const loaderId = 'script-loader';
      const button = document.querySelector(`#script-story button`);

      if (!topic) return updateOutput(outputId, 'рдХреГрдкрдпрд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╖рдп рджрд░реНрдЬ рдХрд░реЗрдВред', 'error');

      try {
          toggleLoading(loaderId, button, true);
          updateOutput(outputId, `AI рджреНрд╡рд╛рд░рд╛ ${style} рд╕реНрдЯрд╛рдЗрд▓ рдореЗрдВ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд▓рд┐рдЦреА рдЬрд╛ рд░рд╣реА рд╣реИ... рдХреГрдкрдпрд╛ рдк
